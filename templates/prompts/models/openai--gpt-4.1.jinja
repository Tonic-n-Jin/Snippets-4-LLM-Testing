{#
    OpenAI GPT-4.1 Template

    OpenAI's general-purpose model optimized for:
    - 1M token context window
    - Superior coding and instruction following
    - Long-form content analysis
    - Improved attention mechanisms

    Optimized for coding and long-form tasks.
#}
{% extends "base/base_chatgpt.jinja" %}

{% block header %}
# SYSTEM PROMPT: {{ display_name or "GPT-4.1" }}
{# GPT-4.1 - 1M context coding specialist #}

{% endblock %}

{% block instructions_section %}
## Task
{% if instructions %}
{{ instructions }}
{% else %}
[Describe what the AI should do]
{% endif %}

{% if code_task %}
### Coding Guidelines
GPT-4.1 excels at coding tasks:
- Write clean, well-structured code
- Follow language idioms and best practices
- Include appropriate error handling
- Document complex logic
{% endif %}

{% if long_context %}
### Long Context Processing
You are processing extensive content. Guidelines:
- Maintain context coherence across the full document
- Reference specific sections when relevant
- Synthesize information from multiple areas
{% endif %}

{% endblock %}

{% block output_section %}
## Output Format
{% if use_json_mode and json_schema %}
**JSON Mode Enabled**

Respond with valid JSON matching this schema:
```json
{{ json_schema | tojson(indent=2) if json_schema is mapping else json_schema }}
```

Ensure:
- Valid JSON syntax
- All required fields present
- Correct data types
{% elif output_format %}
{{ output_format }}
{% else %}
[Specify expected output structure]
{% endif %}

{% endblock %}

{% block checklist_section %}
{% if checklist %}
# CHECKLIST
{% for item in checklist %}
- [ ] {{ item }}
{% endfor %}
{% endif %}

# Quality Guidelines
- Be precise and specific in responses
- Support claims with reasoning
- Format output for clarity
- Leverage full context when relevant
{% endblock %}
